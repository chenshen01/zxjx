<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
	 <head>
	    <meta charset="utf-8">
	    <meta http-equiv="x-ua-compatible" content="IE=edge">
	    <meta name="viewport" content="width=device-width, initial-scale=1">
		<title></title>
	    <link rel="stylesheet" href="js/css/bootstrap.min.css" >
		<link rel="stylesheet" href="js/css/bootstrap.css">
		<link rel="stylesheet" href="js/css/bootstrap-theme.css"/>
		<link rel="stylesheet" href="js/css/bootstrap-theme.min.css"/>
		<style>
			*{
				padding: 0;
				margin: 0;
			}
		</style>
	  </head>
	  <body>
		<header>
			<nav class="navbar navbar-default navbar-inverse row">
			  <div class="container-fluid">
			    <div class="navbar-header col-lg-3">
			      <p class="navbar-brand" href="#">
			             <h3 style="color: white;">蔚洁在线教育</h3>
			       </p>
			    </div>
			  </div>
			</nav>
		</header> 
		<div id="registerBody" class="row">
			<div class="col-lg-2">
				<ul class="list-group" style="text-align: center;">
				  <li id="becomeTeacher" class="list-group-item"><button class="btn btn-success">成为老师</button></li>
				  <li id="becomeStudent" class="list-group-item"><button class="btn btn-success">成为学生</button></li>
				</ul>
			</div>
			<div id = "welcome" class="col-lg-10 col-lg-offset-4">
				<h1>欢迎来到骏波在线教育</h1>
			</div>
			<div id = "becomeStudentInfo" class="col-lg-10" style="display: none;">
				<form class="form-horizontal" role="form" id="becomeStudentInfoForm" enctype="multipart/form-data">
				  <div class="form-group">
				    <label  class="col-sm-2 control-label">名字</label>
				    <div class="col-sm-10" style="width: 400px;">
				      <input id="s_name" type="text" class="form-control" placeholder="请输入名字">
				    </div>
				  </div>
				<div class="form-group">
				  <label  class="col-sm-2 control-label">昵称</label>
				  <div class="col-sm-10" style="width: 400px;">
				    <input id="s_nickName" type="text" class="form-control" placeholder="请输入昵称">
				  </div>
				</div>
				<div class="form-group">
				  <label  class="col-sm-2 control-label">手机号</label>
				  <div class="col-sm-10" style="width: 400px;">
				    <input id="s_phone" type="text" class="form-control" placeholder="请输入手机号">
				  </div>
				</div>
				<div class="form-group">
				  <label  class="col-sm-2 control-label">qq</label>
				  <div class="col-sm-10" style="width: 400px;">
				    <input id="s_qq" type="text" class="form-control" placeholder="请输入qq">
				  </div>
				</div>
				<div class="form-group">
				  <label  class="col-sm-2 control-label">email</label>
				  <div class="col-sm-10" style="width: 400px;">
				    <input id="s_email" type="text" class="form-control" placeholder="请输入email">
				  </div>
				</div>
				<div class="form-group">
				  <label  class="col-sm-2 control-label">性别</label>
						<label class="checkbox-inline col-lg-offset-1">
							<input type="checkbox" id="s_gender_1" value="1" > 男
						</label>
						<label class="checkbox-inline">
							<input type="checkbox" id="s_gender_0" value="0"> 女
				 </label>
				</div>
				<div class="form-group">
				  <label  class="col-sm-2 control-label">密码</label>
				  <div class="col-sm-10" style="width: 400px;">
				    <input id="s_password" type="password" class="form-control" placeholder="请输入密码">
				  </div>
				</div>
				<div class="form-group">
				  <label  class="col-sm-2 control-label">确认密码</label>
				  <div class="col-sm-10" style="width: 400px;">
				    <input id="s_rePassword" type="password" class="form-control" placeholder="确认密码">
				  </div>
				</div>
				<div class="form-group">
				  <label class="col-sm-2 control-label">所在学校</label>
				  <div class="col-sm-10" style="width: 400px;">
				    <input id="s_school" type="text" class="form-control" placeholder="请输入所在学校">
				  </div>
				</div>
				<div class="form-group">
					<label class="col-sm-2 control-label">上传头像</label>
				    <input id="s_headImage" type="file" class="col-lg-offset-3">
				  </div>
				<div class="form-group">
				  <label  class="col-sm-2 control-label"/>
				  <div class="col-sm-10" style="width: 400px;">
						<button id="stuRegBtn" class="btn btn-success" style="width: 80px;">注册</button>
				  </div>
				</div>
				</form>
			</div>
			<div id = "becomeTeacherInfo" class="col-lg-10" style="display: none;">
				<form class="form-horizontal" role="form" >
				  <div class="form-group">
				    <label  class="col-sm-2 control-label">名字</label>
				    <div class="col-sm-10" style="width: 400px;">
				      <input id="t_name" type="text" class="form-control" placeholder="请输入名字">
				    </div>
				  </div>
				<div class="form-group">
				  <label  class="col-sm-2 control-label">昵称</label>
				  <div class="col-sm-10" style="width: 400px;">
				    <input id="t_nickName" type="text" class="form-control" placeholder="请输入昵称">
				  </div>
				</div>
				<div class="form-group">
				  <label class="col-sm-2 control-label">手机号</label>
				  <div class="col-sm-10" style="width: 400px;">
				    <input id="t_phone" type="text" class="form-control" placeholder="请输入手机号">
				  </div>
				</div>
				<div class="form-group">
				  <label  class="col-sm-2 control-label">qq</label>
				  <div class="col-sm-10" style="width: 400px;">
				    <input id="t_qq" type="text" class="form-control" placeholder="请输入qq">
				  </div>
				</div>
				<div class="form-group">
				  <label  class="col-sm-2 control-label">email</label>
				  <div class="col-sm-10" style="width: 400px;">
				    <input id="t_email" type="text" class="form-control" placeholder="请输入email">
				  </div>
				</div>
				<div class="form-group">
				  <label  class="col-sm-2 control-label">密码</label>
				  <div class="col-sm-10" style="width: 400px;">
				    <input id="t_password" type="password" class="form-control" placeholder="请输入密码">
				  </div>
				</div>
				<div class="form-group">
				  <label  class="col-sm-2 control-label">确认密码</label>
				  <div class="col-sm-10" style="width: 400px;">
				    <input id="t_rePassword" type="password" class="form-control" placeholder="确认密码">
				  </div>
				</div>
				<div class="form-group">
				  <label  class="col-sm-2 control-label">性别</label>
						<label class="checkbox-inline col-lg-offset-1">
							<input type="checkbox" id="t_gender_1" value="1"> 男
						</label>
						<label class="checkbox-inline">
							<input type="checkbox" id="t_gender_0" value="0"> 女
				 </label>
				</div>
				<div class="form-group">
				  <label  class="col-sm-2 control-label">曾任教地或公司</label>
				  <div class="col-sm-10" style="width: 400px;">
				    <input id="t_teachedPlace" type="text" class="form-control" placeholder="曾任教地或公司">
				  </div>
				</div>
				<div class="form-group">
					<label  class="col-sm-2 control-label">上传头像</label>
				    <input id="t_headImage" type="file"  class="col-lg-offset-3">
				</div>
				<div class="form-group">
					<label  class="col-sm-2 control-label">上传简历</label>
				    <input id="resume" type="file"  class="col-lg-offset-3">
				</div>
				<div class="form-group">
				  <label  class="col-sm-2 control-label"/>
				  <div class="col-sm-10" style="width: 400px;">
						<button id="teaRegBtn" class="btn btn-success" style="width: 80px;">注册</button>
				  </div>
				</div>
				</form>
			</div>
		</div>
		<script src="js/js/jQuery-3.4.1.js"></script>
		<script src="js/js/bootstrap.js"></script>
		<script src="js/js/bootstrap.min.js"></script>	
		<script type="text/javascript">
			$(function(){
				// 成为老师
				$("#becomeTeacher").click(function(){
					$("#welcome").css("display","none");
					$("#becomeStudentInfo").css("display","none");
					$("#becomeTeacherInfo").css("display","block");
				});
				// 成为学生
				$("#becomeStudent").click(function(){
					$("#welcome").css("display","none");
					$("#becomeTeacherInfo").css("display","none");
					$("#becomeStudentInfo").css("display","block");
				});
				// 学生注册
				$("#stuRegBtn").click(function(){
					// 姓名
					var name = $("#s_name").val();
					// 昵称
					var nickName = $("#s_nickName").val();
					var phone = $("#s_phone").val();
					var qq = $("#s_qq").val();
					var email = $("#s_email").val();
					var password = $("#s_password").val();
					var rePassword = $("#s_rePassword").val();
					var school = $("#s_school").val();
					var gender = $("input[type=checkbox]:checked").val();
					var headImage = $("#s_headImage").get(0).files[0];
					var role = "学生";
					if (password != rePassword) {
						alert("输入的密码不一致，请重新输入");
						return;
					}
					var registerInfo = new FormData();
					registerInfo.append("name",name);
					registerInfo.append("nickName",nickName);
					registerInfo.append("phone",phone);
					registerInfo.append("qq",qq);
					registerInfo.append("email",email);
					registerInfo.append("password",password);
					registerInfo.append("school",school);
					registerInfo.append("gender",gender);
					registerInfo.append("headImage",headImage);
					registerInfo.append("role",role);
					$.ajax({
						async:false,
						type:"POST",
						url:"/zxjx/student/register",
						dataType:"json",
                        processData:false,
                        contentType:false,
						data:registerInfo,
						success:function (data) {
							if (data.code == "200") {
								window.location.href = "/login";
							}
						}
					})
					return false;
				})
				// 老师注册
				$("#teaRegBtn").click(function(){
					var name = $("#t_name").val();
					var nickName = $("#t_nickName").val();
					var phone = $("#t_phone").val();
					var qq = $("#t_qq").val();
					var email = $("#t_email").val();
					var password = $("#t_password").val();
					var rePassword = $("#t_rePassword").val();
					var gender = $("input[type=checkbox]:checked").val();
					var teachedPlace = $("#t_teachedPlace").val();
					var resume = $("#resume").get(0).files[0];
					var headImage = $("#t_headImage").get(0).files[0];
					if (password != rePassword) {
						alert("输入的密码不一致，请重新输入");
						return;
					}
					var registerInfo = new FormData();
					registerInfo.append("name",name);
					registerInfo.append("nickName",nickName);
					registerInfo.append("phone",phone);
					registerInfo.append("email",email);
					registerInfo.append("qq",email);
					registerInfo.append("password",password);
					registerInfo.append("gender",gender);
					registerInfo.append("teachedPlace",teachedPlace);
					registerInfo.append("resume",resume);
					registerInfo.append("headImage",headImage);
						$.ajax({
							async:false,
							type:"POST",
							url:"/zxjx/teacher/register",
							dataType:"json",
							processData:false,
							contentType:false,
							data:registerInfo,
							success:function (data) {
								if (data.code == "200") {
									window.location.href = "/login";
								}
							}
					})
					return false;
			})
			})
		</script>
	  </body>
</html>
